WITH  sfr AS (SELECT DISTINCT * FROM (SELECT r_0.X1 AS a0, r_0.Y1 AS a1, r_1.Y2 AS a2 FROM r_1 r_0, r_2 r_1, r_3 r_2 WHERE r_0.Y1 = r_1.X2 AND r_1.Y2 = r_2.X3) t),  yes_r_3 AS (SELECT DISTINCT * FROM (SELECT s_0.a2 AS a0 FROM sfr s_0, r_3 r_1 WHERE s_0.a2 = r_1.X3) t),  gf_r_2 AS (SELECT DISTINCT * FROM (SELECT s_0.a1 AS a0, r_1.Y2 AS a1 FROM sfr s_0, r_2 r_1, yes_r_3 y_2 WHERE s_0.a1 = r_1.X2 AND r_1.Y2 = y_2.a0) t),  bb_r_2 AS (SELECT DISTINCT * FROM (SELECT s_0.a1 AS a0 FROM sfr s_0, r_2 r_1 WHERE s_0.a1 = r_1.X2 AND NOT EXISTS (SELECT * FROM gf_r_2 neg_g_0 WHERE neg_g_0.a0 = s_0.a1 AND neg_g_0.a1 = r_1.Y2)) t),  yes_r_2 AS (SELECT DISTINCT * FROM (SELECT s_0.a1 AS a0 FROM sfr s_0, r_2 r_1 WHERE s_0.a1 = r_1.X2 AND s_0.a2 = r_1.Y2 AND NOT EXISTS (SELECT * FROM bb_r_2 neg_b_0 WHERE neg_b_0.a0 = s_0.a1)) t),  gf_r_1 AS (SELECT DISTINCT * FROM (SELECT s_0.a0 AS a0, r_1.Y1 AS a1 FROM sfr s_0, r_1 r_1, yes_r_2 y_2 WHERE s_0.a0 = r_1.X1 AND r_1.Y1 = y_2.a0) t),  bb_r_1 AS (SELECT DISTINCT * FROM (SELECT s_0.a0 AS a0 FROM sfr s_0, r_1 r_1 WHERE s_0.a0 = r_1.X1 AND NOT EXISTS (SELECT * FROM gf_r_1 neg_g_0 WHERE neg_g_0.a0 = s_0.a0 AND neg_g_0.a1 = r_1.Y1)) t) SELECT DISTINCT * FROM (SELECT s_0.a0 AS a0 FROM sfr s_0, r_1 r_1 WHERE s_0.a0 = r_1.X1 AND s_0.a1 = r_1.Y1 AND NOT EXISTS (SELECT * FROM bb_r_1 neg_b_0 WHERE neg_b_0.a0 = s_0.a0)) t;
